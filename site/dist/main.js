(()=>{"use strict";(function(e){let t,o=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds");t=setInterval((function(){let e=function(){let e=(new Date("10-june-2023").getTime()-(new Date).getTime())/1e3;e<0&&(e=0);let t=Math.floor(e%60),o=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:o,seconds:t}}();o.textContent=e.hours,n.textContent=e.minutes,r.textContent=e.seconds,e.timeRemaining<0&&clearInterval(t),e.seconds<10&&(r.textContent="0"+e.seconds),e.minutes<10&&(n.textContent="0"+e.minutes),e.hours<10&&(o.textContent="0"+e.hours)}),1e3)})(),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu"),o=document.querySelector(".close-btn"),n=t.querySelectorAll("ul>li");let r,a=0,l=function(){a<100?(r=requestAnimationFrame(l),a+=3,t.style.transform=`translateX(${a}%)`):(a=0,cancelAnimationFrame(r))};e.addEventListener("click",(()=>{document.documentElement.clientWidth>767?r=requestAnimationFrame(l):t.style.transform="translateX(0)"}));let c=function(){t.style.transform="translateX(-100%)"};o.addEventListener("click",c),n.forEach((e=>{e.addEventListener("click",c)}))})(),(()=>{const e=document.querySelector(".popup");document.querySelectorAll(".popup-btn"),document.addEventListener("click",(t=>{let o=t.target;"block"===e.style.display&&(o.classList.contains("popup-close")&&(e.style.display="none"),o=o.closest(".popup-content"),o||(e.style.display="none",o=t.target)),o.classList.contains("popup-btn")&&(e.style.display="block")}))})(),function(){let e,t=document.querySelector("#btn__scrolling"),o=0;const n=function(){o<831?(e=requestAnimationFrame(n),o+=25,document.documentElement.scrollTop=o):(cancelAnimationFrame(e),o=0)};t.addEventListener("click",(()=>{e=requestAnimationFrame(n)}))}(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,r)=>{e===n&&(e=>{for(let n=0;n<o.length;n++)e===n?(t[n].classList.add("active"),o[n].classList.remove("d-none")):(t[n].classList.remove("active"),o[n].classList.add("d-none"))})(r)}))}))})(),(()=>{const e=document.querySelector(".portfolio-content");let t=document.querySelectorAll(".portfolio-item");document.querySelectorAll(".portfolio-btn");let o,n=0;(()=>{const e=document.querySelector(".portfolio-dots");for(let o=0;o<t.length-1;o++){let t=document.createElement("li");t.classList.add("dot"),e.append(t)}})();let r=document.querySelectorAll(".dot");const a=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)},c=()=>{a(t,n,"portfolio-item-active"),a(r,n,"dot-active"),n++,n>=t.length&&(n=0),l(t,n,"portfolio-item-active"),l(r,n,"dot-active")},s=(e=1500)=>{o=setInterval(c,e)};e.addEventListener("click",(e=>{e.preventDefault();let o=e.target;a(t,n,"portfolio-item-active"),a(r,n,"dot-active"),o.matches("#arrow-right")?n++:o.matches("#arrow-left")?n--:o.matches(".dot")&&r.forEach(((e,t)=>{e===o&&(n=t)})),n>=t.length?n=0:n<0&&(n=t.length-1),l(t,n,"portfolio-item-active"),l(r,n,"dot-active")})),e.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),e.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s(1500)})(),(()=>{let e=document.querySelector("#command");e.addEventListener("mouseover",(e=>{e.target.classList.contains("command__photo")&&(e.target.alt=e.target.src,e.target.src=e.target.dataset.img)})),e.addEventListener("mouseout",(e=>{e.target.classList.contains("command__photo")&&(e.target.src=e.target.alt)}))})(),(()=>{const e=document.querySelector(".calc-block");e.querySelectorAll("input"),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D/g,"")}));const t=document.querySelector(".footer-form-input").querySelectorAll("input");document.addEventListener("input",(e=>{let t=e.target;t.classList.contains("form-name")&&(/^[а-яА-ЯёЁ\ ]+$/.test(t.value)||(t.value=t.value.slice(0,-1))),"form2-message"===t.id&&(/^[\W0-9s]+$/.test(t.value)||(t.value=t.value.slice(0,-1))),t.classList.contains("form-email")&&(/^[a-zA-Z0-9@\-_.'!*~]+$/.test(t.value)||(t.value=t.value.slice(0,-1))),t.classList.contains("form-phone")&&(/^[0-9\-()+]+$/.test(t.value)||(t.value=t.value.slice(0,-1)))}));let o=()=>{if(/^(-| )/g.test(event.target.value)&&(event.target.value=event.target.value.slice(1),o(event.target)),/(-| )$/g.test(event.target.value)&&(event.target.value=event.target.value.slice(0,-1),o(event.target)),event.target.value=event.target.value.replace(/-{2,}/g,"-").replace(/ {2,}/g," "),"form2-name"===event.target.id){let e=event.target.value[0].toUpperCase()+event.target.value.slice(1).toLowerCase();event.target.value=e}};t.forEach((e=>{e.addEventListener("blur",o)}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count");let l=document.querySelector("#total");t.addEventListener("change",(t=>{const c=t.target;(c.matches("select")||c.matches("input"))&&(()=>{let t=0,c=1,s=1,i=o.options[o.selectedIndex].value,u=+n.value;if(a.value>1&&(c+=(a.value-1)/10),r.value&&r.value<5?s*=2:r.value&&r.value<10&&(s*=1.5),i&&u){t=e*i*u*c*s;const o=()=>{let e=0,o=setInterval((()=>{e+=1,e===t&&clearInterval(o),l.textContent=e}),10)};o()}})()}))})(100),(()=>{let e=document.createElement("div");e.classList.add("preloader"),Array.from(document.querySelectorAll("form")).forEach((o=>{o.addEventListener("submit",(o=>{let n=o.target;if(o.preventDefault(),"FORM"===n.tagName){"form3"===n.id&&(e.style.color="white"),n.appendChild(e);const o=new FormData(n);let r={};o.forEach(((e,t)=>{r[t]=e})),t(r).then((t=>{if(200!==t.status)throw new Error("Status network not 200");n.reset(),e.classList.remove("preloader"),e.textContent="Спасибо! Мы скоро с вами свяжемся"})).catch((t=>{e.classList.remove("preloader"),console.error(t),e.textContent="Что-то пошло не так..."}))}}))}));const t=e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();